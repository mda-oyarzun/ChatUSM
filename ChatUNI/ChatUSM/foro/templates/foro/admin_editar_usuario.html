{% extends 'foro/base_sin_buscador.html' %}

{% block title %}Editar Usuario | ChatUSM{% endblock %}

{% block content %}
    <h2>Editar Usuario: {{ usuario.nombre }} {{ usuario.apellido }}</h2>
    <form method="post">
        {% csrf_token %}
        
        <label for="nombre">Nombre:</label>
        <input type="text" id="nombre" name="nombre" value="{{ usuario.nombre }}" required><br><br>
        
        <label for="apellido">Apellido:</label>
        <input type="text" id="apellido" name="apellido" value="{{ usuario.apellido }}" required><br><br>
        
        <label for="email">Correo electrónico:</label>
        <input type="email" id="email" name="correo" value="{{ usuario.email }}" required><br><br>
        
        <label for="password">Contraseña:</label>
        <input type="password" id="password" name="contraseña" value="{{ usuario.password }}" required><br><br>
        
        <label for="tipo">Tipo:</label>
        <select id="tipo" name="tipo" required>
            {% for tipo in tipos %}
                <option value="{{ tipo.id }}" {% if tipo.id == usuario.tipo.id %}selected{% endif %}>{{ tipo.nombre }}</option>
            {% endfor %}
        </select><br><br>
    
        <label for="sede">Sede:</label>
        <select id="sede" name="sede" required>
            {% for sede in sedes %}
                <option value="{{ sede.id }}" {% if sede.id == usuario.sede.id %}selected{% endif %}>{{ sede.nombre }}</option>
            {% endfor %}
        </select><br><br>
    
        <label for="carrera">Carrera:</label>
        <select id="carrera" name="carrera" required>
            {% for carrera in carreras %}
                <option value="{{ carrera.id }}" {% if carrera.id == usuario.carrera.id %}selected{% endif %}>{{ carrera.nombre }}</option>
            {% endfor %}
        </select><br><br>
    
        <label for="categoria">Clase:</label>
        <select id="categoria" name="categoria" required>
            {% for categoria in categorias %}
                <option value="{{ categoria.id }}" {% if categoria.id == usuario.categoria.id %}selected{% endif %}>{{ categoria.nombre }}</option>
            {% endfor %}
        </select><br><br>
        
        <button class="button" type="submit">Guardar cambios</button>
    </form>

    <a href="{% url 'admin_usuarios' %}">Volver al Panel</a>
    <br>
{% endblock %}